# Bahamut BBS Android - Instructions æ–‡ä»¶ç¸½è¦½

æœ¬ç›®éŒ„åŒ…å« Bahamut BBS Android å®¢æˆ¶ç«¯çš„è©³ç´°é–‹ç™¼æ–‡ä»¶ï¼Œå°ˆç‚º GitHub Copilot å„ªåŒ–ã€‚

## ğŸ“š æ–‡ä»¶çµæ§‹

### ğŸ“‹ ç¸½è¦½æ–‡ä»¶
- [com.kota-structure.md](com.kota-structure.md) - **com.kota å¥—ä»¶å®Œæ•´çµæ§‹ç¸½è¦½**ï¼ˆç¬¬ä¸€å±¤+ç¬¬äºŒå±¤ï¼‰

---

## ğŸ¯ ç¬¬ä¸€å±¤æ¨¡çµ„æ–‡ä»¶ï¼ˆ6å€‹ï¼‰

### æ ¸å¿ƒæ¨¡çµ„

| æ–‡ä»¶ | æ¨¡çµ„ | èªªæ˜ | é‡è¦æ€§ |
|------|------|------|--------|
| [asFramework.md](asFramework.md) | asFramework | æ‡‰ç”¨ç¨‹å¼åŸºç¤æ¡†æ¶ | â­â­â­â­â­ |
| [Bahamut.md](Bahamut.md) | Bahamut | BBS æ ¸å¿ƒæ¥­å‹™é‚è¼¯ | â­â­â­â­â­ |
| [telnet.md](telnet.md) | telnet | Telnet å®¢æˆ¶ç«¯æ ¸å¿ƒ | â­â­â­â­â­ |
| [telnetUI.md](telnetUI.md) | telnetUI | Telnet UI å…ƒä»¶ | â­â­â­â­ |
| [dataPool.md](dataPool.md) | dataPool | è³‡æ–™ç·©è¡ç®¡ç† | â­â­â­ |
| [textEncoder.md](textEncoder.md) | textEncoder | Big5/UTF-8 ç·¨ç¢¼è½‰æ› | â­â­â­â­ |

---

## ğŸ”§ ç¬¬äºŒå±¤æ¨¡çµ„æ–‡ä»¶ï¼ˆ17å€‹ï¼‰

### asFramework å­æ¨¡çµ„ï¼ˆ7å€‹ï¼‰

| æ–‡ä»¶ | è³‡æ–™å¤¾ | èªªæ˜ | é‡è¦æ€§ |
|------|--------|------|--------|
| [asFramework-pageController.md](asFramework-pageController.md) | pageController | **é é¢æ§åˆ¶å™¨**ï¼ˆiOS é¢¨æ ¼å°èˆªï¼‰ | â­â­â­â­â­ |
| [asFramework-thread.md](asFramework-thread.md) | thread | **åŸ·è¡Œç·’ç®¡ç†**ï¼ˆASRunner æ ¸å¿ƒï¼‰ | â­â­â­â­â­ |
| [asFramework-dialog.md](asFramework-dialog.md) | dialog | å°è©±æ¡†ç³»çµ± | â­â­â­â­ |
| [asFramework-ui.md](asFramework-ui.md) | ui | UI å…ƒä»¶åº« | â­â­â­â­ |
| [asFramework-model.md](asFramework-model.md) | model | åŸºç¤è³‡æ–™æ¨¡å‹ | â­â­â­ |
| [asFramework-network.md](asFramework-network.md) | network | ç¶²è·¯ç‹€æ…‹ç®¡ç† | â­â­â­ |
| [asFramework-utils.md](asFramework-utils.md) | utils | å·¥å…·é¡åˆ¥ | â­â­â­ |

### Bahamut å­æ¨¡çµ„ï¼ˆ6å€‹ï¼‰

| æ–‡ä»¶ | è³‡æ–™å¤¾ | èªªæ˜ | é‡è¦æ€§ |
|------|--------|------|--------|
| [Bahamut-listPage.md](Bahamut-listPage.md) | listPage | **åˆ—è¡¨é é¢åŸºç¤æ¶æ§‹**ï¼ˆ20é …/å€å¡Šï¼‰ | â­â­â­â­â­ |
| [Bahamut-command.md](Bahamut-command.md) | command | BBS å‘½ä»¤ç³»çµ± | â­â­â­â­â­ |
| [Bahamut-pages.md](Bahamut-pages.md) | pages | æ¥­å‹™é é¢é›†åˆ | â­â­â­â­ |
| [Bahamut-dialogs.md](Bahamut-dialogs.md) | dialogs | æ¥­å‹™å°è©±æ¡† | â­â­â­â­ |
| [Bahamut-dataModels.md](Bahamut-dataModels.md) | dataModels | è³‡æ–™æ¨¡å‹èˆ‡æœ¬åœ°å„²å­˜ | â­â­â­â­ |
| [Bahamut-service.md](Bahamut-service.md) | service | èƒŒæ™¯æœå‹™èˆ‡è¨­å®š | â­â­â­ |

### telnet å­æ¨¡çµ„ï¼ˆ3å€‹ï¼‰

| æ–‡ä»¶ | è³‡æ–™å¤¾ | èªªæ˜ | é‡è¦æ€§ |
|------|--------|------|--------|
| [telnet-model.md](telnet-model.md) | model | **Telnet è³‡æ–™æ¨¡å‹**ï¼ˆTelnetFrameï¼‰ | â­â­â­â­â­ |
| [telnet-reference.md](telnet-reference.md) | reference | **ANSI/Telnet è¦ç¯„**ï¼ˆè‰²ç¢¼ã€éµç›¤ï¼‰ | â­â­â­â­â­ |
| [telnet-logic.md](telnet-logic.md) | logic | æ¥­å‹™é‚è¼¯è™•ç† | â­â­â­â­ |

### telnetUI å­æ¨¡çµ„ï¼ˆ1å€‹ï¼‰

| æ–‡ä»¶ | è³‡æ–™å¤¾ | èªªæ˜ | é‡è¦æ€§ |
|------|--------|------|--------|
| [telnetUI-textView.md](telnetUI-textView.md) | textView | **æ–‡å­—è¦–åœ–å…ƒä»¶**ï¼ˆå¤šå­—é«”å¤§å°ï¼‰ | â­â­â­â­â­ |

---

## ğŸ¯ å¿«é€Ÿå°èˆªï¼šæˆ‘è¦...

### ä¿®æ”¹ UI ç›¸é—œ
- ä¿®æ”¹é é¢å°èˆª â†’ [asFramework-pageController.md](asFramework-pageController.md)
- ä¿®æ”¹å°è©±æ¡† â†’ [asFramework-dialog.md](asFramework-dialog.md) æˆ– [Bahamut-dialogs.md](Bahamut-dialogs.md)
- ä¿®æ”¹åˆ—è¡¨å…ƒä»¶ â†’ [asFramework-ui.md](asFramework-ui.md)
- ä¿®æ”¹çµ‚ç«¯æ©Ÿé¡¯ç¤º â†’ [telnetUI-textView.md](telnetUI-textView.md)

### ä¿®æ”¹æ¥­å‹™é‚è¼¯
- ä¿®æ”¹æ–‡ç« åˆ—è¡¨ â†’ [Bahamut-listPage.md](Bahamut-listPage.md)
- æ–°å¢ BBS å‘½ä»¤ â†’ [Bahamut-command.md](Bahamut-command.md)
- ä¿®æ”¹é é¢åŠŸèƒ½ â†’ [Bahamut-pages.md](Bahamut-pages.md)
- ä¿®æ”¹æœ¬åœ°è³‡æ–™ â†’ [Bahamut-dataModels.md](Bahamut-dataModels.md)

### ä¿®æ”¹åº•å±¤åŠŸèƒ½
- ä¿®æ”¹åŸ·è¡Œç·’é‚è¼¯ â†’ [asFramework-thread.md](asFramework-thread.md) âš ï¸ æ ¸å¿ƒ
- ä¿®æ”¹ Telnet é€£æ¥ â†’ [telnet.md](telnet.md)
- ä¿®æ”¹ ANSI è§£æ â†’ [telnet-model.md](telnet-model.md) + [telnet-reference.md](telnet-reference.md)
- ä¿®æ”¹ç·¨ç¢¼è½‰æ› â†’ [textEncoder.md](textEncoder.md)
- ä¿®æ”¹è³‡æ–™ç·©è¡ â†’ [dataPool.md](dataPool.md)

---

## âš¡ é—œéµè¨­è¨ˆæ¨¡å¼é€ŸæŸ¥

### åŸ·è¡Œç·’ç®¡ç†ï¼ˆæ‰€æœ‰ UI æ›´æ–°ï¼‰
```kotlin
// âœ… æ­£ç¢ºï¼šä½¿ç”¨ ASRunner
object : ASRunner() {
    override fun run() {
        // UI æ›´æ–°ä»£ç¢¼
    }
}.runInMainThread()
```
ğŸ“– è©³è¦‹: [asFramework-thread.md](asFramework-thread.md)

### å€å¡Šåˆ†é è¼‰å…¥ï¼ˆæ‰€æœ‰åˆ—è¡¨ï¼‰
```kotlin
// 20 é …/å€å¡Š
val blockIndex = itemIndex / 20
val indexInBlock = itemIndex % 20
```
ğŸ“– è©³è¦‹: [Bahamut-listPage.md](Bahamut-listPage.md)

### ç‰©ä»¶æ± æ¨¡å¼ï¼ˆæ•ˆèƒ½å„ªåŒ–ï¼‰
```kotlin
companion object {
    private val _pool = Stack<Item>()
    fun create(): Item { /* å¾æ± å–å‡º */ }
    fun recycle(item: Item) { /* å›æ”¶ */ }
}
```
ğŸ“– è©³è¦‹: [Bahamut-listPage.md](Bahamut-listPage.md)

### å‘½ä»¤æ¨¡å¼ï¼ˆBBS æ“ä½œï¼‰
```kotlin
class MyCommand : TelnetCommand() {
    override fun execute(page: TelnetListPage) { /* åŸ·è¡Œ */ }
    override fun executeFinished(...) { /* å›å‘¼ */ }
}
```
ğŸ“– è©³è¦‹: [Bahamut-command.md](Bahamut-command.md)

### ç·¨ç¢¼è½‰æ›ï¼ˆBig5 â†” UTF-8ï¼‰
```kotlin
// æ¥æ”¶ï¼šBig5 â†’ UTF-8
val utf8Text = B2UEncoder.convert(big5Data)

// ç™¼é€ï¼šUTF-8 â†’ Big5
val big5Data = U2BEncoder.convert(utf8Text)
```
ğŸ“– è©³è¦‹: [textEncoder.md](textEncoder.md)

---

## ğŸ› å¸¸è¦‹å•é¡Œé€ŸæŸ¥

### ListView å´©æ½°
**ç—‡ç‹€**: `IllegalStateException` åœ¨ adapter æ›´æ–°æ™‚  
**åŸå› **: å¤šæ¬¡èª¿ç”¨ `notifyDataSetChanged()`  
**è§£æ±º**: åªèª¿ç”¨ä¸€æ¬¡ `safeNotifyDataSetChanged()` ä¸¦åŒ…è£åœ¨ `ASRunner`  
ğŸ“– è©³è¦‹: [Bahamut-listPage.md](Bahamut-listPage.md) ç¬¬ 350-380 è¡Œ

### åŸ·è¡Œç·’å´©æ½°
**ç—‡ç‹€**: `CalledFromWrongThreadException`  
**åŸå› **: åœ¨èƒŒæ™¯åŸ·è¡Œç·’æ›´æ–° UI  
**è§£æ±º**: ä½¿ç”¨ `ASRunner().runInMainThread()`  
ğŸ“– è©³è¦‹: [asFramework-thread.md](asFramework-thread.md)

### ä¸­æ–‡äº‚ç¢¼
**ç—‡ç‹€**: ä¸­æ–‡é¡¯ç¤ºç‚ºå•è™Ÿæˆ–æ–¹å¡Š  
**åŸå› **: Big5 é›™ä½å…ƒçµ„å­—å…ƒè¢«æˆªæ–·  
**è§£æ±º**: æª¢æŸ¥å­—å…ƒé‚Šç•Œï¼Œä½¿ç”¨ `TextConverterBuffer`  
ğŸ“– è©³è¦‹: [textEncoder.md](textEncoder.md) ç¬¬ 250-290 è¡Œ

### è¨˜æ†¶é«”æ´©æ¼
**ç—‡ç‹€**: é•·æ™‚é–“ä½¿ç”¨å¾Œæ‡‰ç”¨è®Šæ…¢  
**åŸå› **: æœªå›æ”¶ç‰©ä»¶æ± çš„é …ç›®  
**è§£æ±º**: ç§»é™¤å€å¡Šæ™‚èª¿ç”¨ `recycleItem()` / `recycleBlock()`  
ğŸ“– è©³è¦‹: [Bahamut-listPage.md](Bahamut-listPage.md) ç¬¬ 180-220 è¡Œ

### ANSI è‰²ç¢¼éŒ¯èª¤
**ç—‡ç‹€**: æ–‡å­—é¡è‰²é¡¯ç¤ºéŒ¯èª¤  
**åŸå› **: ANSI åºåˆ—è§£æéŒ¯èª¤  
**è§£æ±º**: æª¢æŸ¥ `TelnetAnsi` è§£æé‚è¼¯  
ğŸ“– è©³è¦‹: [telnet-reference.md](telnet-reference.md)

---

## ğŸ“‹ æ–‡ä»¶ä½¿ç”¨æŒ‡å—

### applyto æ©Ÿåˆ¶
æ¯å€‹æ–‡ä»¶éƒ½æœ‰ `applyto` æ¨™è¨˜ï¼Œå‘Šè¨´ Copilot è©²æ–‡ä»¶é©ç”¨æ–¼å“ªäº›æª”æ¡ˆï¼š

```markdown
**applyto**: `app/src/main/java/com/kota/Bahamut/listPage/**/*.kt`
```

ç•¶ä½ ä¿®æ”¹ `listPage` è³‡æ–™å¤¾ä¸‹çš„ä»»ä½• `.kt` æª”æ¡ˆæ™‚ï¼ŒCopilot æœƒè‡ªå‹•åƒè€ƒ `Bahamut-listPage.md`ã€‚

### æ–‡ä»¶çµæ§‹
æ‰€æœ‰æ–‡ä»¶éƒ½éµå¾ªçµ±ä¸€çµæ§‹ï¼š
1. **æ¨¡çµ„æ¦‚è¿°** - å¿«é€Ÿäº†è§£æ¨¡çµ„åŠŸèƒ½
2. **æ ¸å¿ƒé¡åˆ¥** - ä¸»è¦é¡åˆ¥èªªæ˜å’Œç¨‹å¼ç¢¼
3. **ä½¿ç”¨æ¨¡å¼** - å¯¦éš›ä½¿ç”¨ç¯„ä¾‹
4. **å¸¸è¦‹å•é¡Œ** - å•é¡Œæ’æŸ¥å’Œè§£æ±ºæ–¹æ¡ˆ
5. **é–‹ç™¼è¦ç¯„** - ç·¨ç¢¼è¦ç¯„å’Œæœ€ä½³å¯¦è¸
6. **æ¨¡çµ„é—œä¿‚** - èˆ‡å…¶ä»–æ¨¡çµ„çš„ä¾è³´é—œä¿‚

### é–±è®€å»ºè­°

**æ–°æ‰‹é–‹ç™¼è€…**:
1. å…ˆè®€ [com.kota-structure.md](com.kota-structure.md) äº†è§£æ•´é«”æ¶æ§‹
2. å†è®€ [asFramework.md](asFramework.md) äº†è§£åŸºç¤æ¡†æ¶
3. ç„¶å¾Œè®€ [Bahamut.md](Bahamut.md) äº†è§£æ¥­å‹™é‚è¼¯
4. æœ€å¾Œæ ¹æ“šéœ€è¦é–±è®€ç¬¬äºŒå±¤æ–‡ä»¶

**æœ‰ç¶“é©—çš„é–‹ç™¼è€…**:
- ç›´æ¥ä½¿ç”¨ã€Œå¿«é€Ÿå°èˆªã€æ‰¾åˆ°éœ€è¦çš„æ–‡ä»¶
- ä½¿ç”¨ã€Œå¸¸è¦‹å•é¡Œé€ŸæŸ¥ã€å¿«é€Ÿè§£æ±ºå•é¡Œ
- ä½¿ç”¨ã€Œé—œéµè¨­è¨ˆæ¨¡å¼é€ŸæŸ¥ã€åƒè€ƒæœ€ä½³å¯¦è¸

---

## ğŸ”„ æ–‡ä»¶æ›´æ–°

**æœ€å¾Œæ›´æ–°**: 2025-12-11  
**æ–‡ä»¶ç¸½æ•¸**: 24 å€‹ï¼ˆ1 ç¸½è¦½ + 6 ç¬¬ä¸€å±¤ + 17 ç¬¬äºŒå±¤ï¼‰  
**æ¶µè“‹ç¯„åœ**: com.kota å¥—ä»¶å®Œæ•´çµæ§‹

**æ›´æ–°åŸå‰‡**:
- æ¨¡çµ„çµæ§‹è®Šæ›´æ™‚æ›´æ–°
- æ–°å¢é‡è¦è¨­è¨ˆæ¨¡å¼æ™‚æ›´æ–°
- ç™¼ç¾é‡å¤§å•é¡Œæ™‚æ›´æ–°
- æ¯å€‹é‡å¤§ç‰ˆæœ¬ç™¼å¸ƒå‰æ›´æ–°

---

## ğŸ’¡ è²¢ç»æŒ‡å—

å¦‚æœä½ ç™¼ç¾ï¼š
- æ–‡ä»¶å…§å®¹æœ‰èª¤
- ç¼ºå°‘é‡è¦è³‡è¨Š
- ç¯„ä¾‹ä»£ç¢¼éæ™‚
- éœ€è¦æ–°å¢å¸¸è¦‹å•é¡Œ

è«‹æäº¤ PR æˆ– Issue æ›´æ–°æ–‡ä»¶ã€‚

---

**ç¶­è­·è€…**: Bahamut BBS é–‹ç™¼åœ˜éšŠ  
**æˆæ¬Š**: å…§éƒ¨é–‹ç™¼æ–‡ä»¶  
**ç‰ˆæœ¬**: 1.0.0
